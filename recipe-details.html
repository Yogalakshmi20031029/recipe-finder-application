<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Recipe Details</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f4f6f8;
}

header {
    background: #2c7be5;
    color: white;
    padding: 15px 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.back-btn {
    color: white;
    text-decoration: none;
    border: 1px solid white;
    padding: 8px 14px;
    border-radius: 6px;
}

.container {
    padding: 40px;
}

.recipe-box {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
}

.recipe-box img {
    width: 100%;
    max-width: 450px;
    border-radius: 12px;
    margin: 20px 0;
}

h2 {
    color: #2c7be5;
}

ul, ol {
    margin-left: 20px;
}

li {
    margin-bottom: 8px;
}
</style>
</head>

<body>

<header>
    <h2>üçΩ Recipe Details</h2>
    <a href="javascript:history.back()" class="back-btn">‚¨Ö Back</a>
</header>

<div class="container">
    <div class="recipe-box" id="recipeDetails">
        <p>Loading recipe details...</p>
    </div>
</div>

<script>
const params = new URLSearchParams(window.location.search);
const recipeId = params.get("id");

if (!recipeId) {
    document.getElementById("recipeDetails").innerHTML =
        "<p>Invalid recipe selected.</p>";
} else {

fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${recipeId}`)
.then(res => res.json())
.then(data => {
    const meal = data.meals[0];

    let ingredientsHTML = "<ul>";
    for (let i = 1; i <= 20; i++) {
        const ingredient = meal[`strIngredient${i}`];
        const measure = meal[`strMeasure${i}`];
        if (ingredient && ingredient.trim() !== "") {
            ingredientsHTML += `<li>${ingredient} - ${measure}</li>`;
        }
    }
    ingredientsHTML += "</ul>";

    const stepsHTML = meal.strInstructions
        .split(".")
        .filter(step => step.trim() !== "")
        .map(step => `<li>${step}</li>`)
        .join("");

    document.getElementById("recipeDetails").innerHTML = `
        <h2>${meal.strMeal}</h2>
        <img src="${meal.strMealThumb}">
        <h3>Ingredients</h3>
        ${ingredientsHTML}
        <h3>Step-by-Step Preparation</h3>
        <ol>${stepsHTML}</ol>
    `;
})
.catch(() => {
    document.getElementById("recipeDetails").innerHTML =
        "<p>Unable to load recipe details.</p>";
});
}
</script>

</body>
</html>
