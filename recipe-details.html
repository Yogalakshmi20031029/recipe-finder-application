<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Recipe Details</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f4f6f8;
}

header {
    background: #2c7be5;
    color: white;
    padding: 15px 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.back-btn {
    color: white;
    text-decoration: none;
    border: 1px solid white;
    padding: 8px 14px;
    border-radius: 6px;
}

.container {
    padding: 40px;
}

.recipe-box {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
}

.recipe-box img {
    width: 100%;
    max-width: 450px;
    border-radius: 12px;
    margin: 20px 0;
}

h2 {
    color: #2c7be5;
}

ul, ol {
    margin-left: 20px;
}

li {
    margin-bottom: 8px;
}
</style>
</head>

<body>

<header>
    <h2>üçΩ Recipe Details</h2>
    <a href="javascript:history.back()" class="back-btn">‚¨Ö Back</a>
</header>

<div class="container">
    <div class="recipe-box" id="recipeDetails">
        <p>Loading recipe details...</p>
    </div>
</div>

<script>
const API_KEY = "your api key";

const params = new URLSearchParams(window.location.search);
const recipeId = params.get("id");

if (!recipeId) {
    document.getElementById("recipeDetails").innerHTML =
        "<p>Invalid recipe selected.</p>";
} else {

fetch(`https://api.spoonacular.com/recipes/${recipeId}/information?apiKey=${API_KEY}`)
.then(res => res.json())
.then(recipe => {

    /* IMAGE */
    const image = recipe.image ? `<img src="${recipe.image}">` : "";

    /* INGREDIENTS */
    let ingredientsHTML = "<p>No ingredients available.</p>";
    if (recipe.extendedIngredients && recipe.extendedIngredients.length > 0) {
        ingredientsHTML = "<ul>";
        recipe.extendedIngredients.forEach(item => {
            ingredientsHTML += `<li>${item.original}</li>`;
        });
        ingredientsHTML += "</ul>";
    }

    /* STEPS */
    let stepsHTML = "<p>No instructions available.</p>";
    if (
        recipe.analyzedInstructions &&
        recipe.analyzedInstructions.length > 0 &&
        recipe.analyzedInstructions[0].steps.length > 0
    ) {
        stepsHTML = "<ol>";
        recipe.analyzedInstructions[0].steps.forEach(step => {
            stepsHTML += `<li>${step.step}</li>`;
        });
        stepsHTML += "</ol>";
    }

    document.getElementById("recipeDetails").innerHTML = `
        <h2>${recipe.title || "Recipe"}</h2>
        ${image}

        <h3>Ingredients</h3>
        ${ingredientsHTML}

        <h3>Step-by-Step Preparation</h3>
        ${stepsHTML}
    `;
})
.catch(() => {
    document.getElementById("recipeDetails").innerHTML =
        "<p>Unable to load recipe. API limit may be reached.</p>";
});

}
</script>

</body>
</html>
